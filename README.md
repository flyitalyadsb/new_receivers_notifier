# Fly Italy ADS-B New Receivers Notifier

A Python tool designed to send email notifications about user updates in an ADS-B network. This tool reads from a list of peers, detects changes and sends an email report detailing the differences.

## Prerequisites

- A running instance of `mlat-server`. This tool reads from the `clients.json` generated by the server to identify peers.
- Python environment to execute the script.
- `pytz` Python library installed for timezone support. 
    ```bash
    pip install pytz
    ```

## Environment Variables

To configure the tool, the following environment variables need to be set:

- `CLIENTS_JSON`: Path to `clients.json`.
- `UPDATE`: Determines the time interval (in seconds) the script waits between one execution and the next, effectively setting the frequency of checks.
- `FROM`: Email address from which notifications will be sent.
- `TO`: Email address to which notifications will be sent.
- `SERVER`: SMTP server to be used to send the email.
- `USER`: User for the SMTP server. Defaults to the value of `FROM` if not specified.
- `EMAIL_PASSWORD`: Password for the SMTP server.
- `TIMEZONE`: The timezone you're operating in, defaults to `Europe/Rome`.

## Usage

1. Set up the environment variables mentioned above.
2. Run the script:
    ```bash
    python main.py
    ```

The script will constantly monitor the peer list and notify about any changes.

## Docker Deployment

For convenience, this tool can also be deployed using Docker and Docker-Compose. Use the official image `flyitalyadsb/nome_programma`.

Sample `docker-compose` configuration in `docker-compose.yaml`

Then, start the service with:
```bash
docker-compose up -d
```